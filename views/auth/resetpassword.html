<script>
    function disableButton() {
        var btn = document.getElementById('buttonSubmit');
        btn.disabled = true;
        //btn.innerText = 'E-Mail has been sent!'
    }

    function enableButton() {
        var btn = document.getElementById('buttonSubmit');
        btn.disabled = false;
        //btn.innerText = 'E-Mail has been sent!'
    }
</script>
<main class="mb-auto max-w-7xl mx-auto justify-center gap-2">
    <div class="flex flex-col items-center h-full w-full">
        {{ if .ErrorMessage }}
        <div class="alert alert-error w-full">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="stroke-current shrink-0 h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          <span> {{ .ErrorMessage }} </span>
        </div>
        {{end}}
        <div id="result" class="w-full">

        </div>
        
        <h2 class="mt-2 text-center text-3xl font-bold tracking-tight text-base-content">
            Reset your password
        </h2>
        <p class="text-center mt-1">
            Type your email address below. We send you  an email with instructions to reset your password.
        </p>
    <form hx-post="/auth/resetpassword" onsubmit='disableButton()' hx-swap="innerHTML" hx-target="#result"  method="POST" class="flex flex-col items-center space-y-2 w-full pt-4">
        <div class="form-control w-full max-w-7xl">

            <label class="label">
                <span class="label-text">E-Mail</span>
              </label>
            <input type="email" onchange='enableButton()' label="E-Mail" placeholder="E-Mail" name="email" class="input input-bordered w-full" />
        </div>
 
        <button id="buttonSubmit" class="btn btn-primary w-full">Reset your password</button>
    </form>
    </div>
</main>

