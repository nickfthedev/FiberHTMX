<script>
  document.body.addEventListener("myEvent", function (evt) {
    //alert("myEvent was triggered!");
    window.location.href = "/";
  });
</script>
<main class="mb-auto max-w-7xl mx-auto justify-center gap-2">
  <div class="flex flex-col items-center h-full w-full">
    {{ if .SuccessMessage }}
    <div class="alert alert-success w-full">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="stroke-current shrink-0 h-6 w-6"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
        />
      </svg>
      <span> {{ .SuccessMessage }} </span>
    </div>
    {{end}} 
    {{ if .ErrorMessage }}
    <div class="alert alert-error w-full">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="stroke-current shrink-0 h-6 w-6"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
        />
      </svg>
      <span> {{ .ErrorMessage }} </span>
    </div>
    {{end}}
    <div id="result" class="w-full"></div>
    <h2
      class="mt-2 text-center text-3xl font-bold tracking-tight text-base-content"
    >
      Login to your account
    </h2>
    <p class="text-center mt-1">
      Or
      <a
        href="/register"
        class="text-primary font-medium hover:cursor-pointer hover:underline"
        >sign up</a
      >
      if you don't have an account.
    </p>
    <form
      hx-post="/login"
      hx-swap="innerHTML"
      hx-target="#result"
      method="POST"
      class="flex flex-col items-center space-y-2 w-full pt-4"
    >
      <input
        type="email"
        label="E-Mail"
        placeholder="E-Mail"
        name="email"
        class="input input-bordered w-full"
      />
      <input
        type="password"
        id="password"
        label="Password"
        name="password"
        placeholder="Password"
        class="input input-bordered w-full"
      />
      <button class="btn btn-primary w-full">Login</button>
      <p class="text-center mt-3">
        You lost your password?
        <a
          href="/auth/resetpassword"
          class="text-primary font-medium hover:cursor-pointer hover:underline"
          >Reset your password</a
        >
      </p>
    </form>
  </div>
</main>
